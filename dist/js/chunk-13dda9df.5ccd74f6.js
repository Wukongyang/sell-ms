(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13dda9df"],{"1dde":function(e,o,t){var r=t("d039"),a=t("b622"),s=a("species");e.exports=function(e){return!r((function(){var o=[],t=o.constructor={};return t[s]=function(){return{foo:1}},1!==o[e](Boolean).foo}))}},"65f0":function(e,o,t){var r=t("861d"),a=t("e8b5"),s=t("b622"),l=s("species");e.exports=function(e,o){var t;return a(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!a(t.prototype)?r(t)&&(t=t[l],null===t&&(t=void 0)):t=void 0),new(void 0===t?Array:t)(0===o?0:o)}},8418:function(e,o,t){"use strict";var r=t("c04e"),a=t("9bf2"),s=t("5c6c");e.exports=function(e,o,t){var l=r(o);l in e?a.f(e,l,s(0,t)):e[l]=t}},a434:function(e,o,t){"use strict";var r=t("23e7"),a=t("23cb"),s=t("a691"),l=t("50c4"),i=t("7b0b"),n=t("65f0"),d=t("8418"),c=t("1dde"),u=Math.max,f=Math.min,g=9007199254740991,m="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!c("splice")},{splice:function(e,o){var t,r,c,p,b,v,h=i(this),x=l(h.length),k=a(e,x),y=arguments.length;if(0===y?t=r=0:1===y?(t=0,r=x-k):(t=y-2,r=f(u(s(o),0),x-k)),x+t-r>g)throw TypeError(m);for(c=n(h,r),p=0;p<r;p++)b=k+p,b in h&&d(c,p,h[b]);if(c.length=r,t<r){for(p=k;p<x-r;p++)b=p+r,v=p+t,b in h?h[v]=h[b]:delete h[v];for(p=x;p>x-r+t;p--)delete h[p-1]}else if(t>r)for(p=x-r;p>k;p--)b=p+r-1,v=p+t-1,b in h?h[v]=h[b]:delete h[v];for(p=0;p<t;p++)h[p+k]=arguments[p+2];return h.length=x-r+t,c}})},bff1:function(e,o,t){"use strict";var r=t("f86f"),a=t.n(r);a.a},c40e:function(e,o,t){"use strict";t.d(o,"a",(function(){return a})),t.d(o,"d",(function(){return s})),t.d(o,"b",(function(){return l})),t.d(o,"c",(function(){return i}));var r=t("b775"),a=function(e){return r["a"].post("/goods/goodsadd",e)},s=function(e){return r["a"].get("/goods/goodslist",e)},l=function(e){return r["a"].get("/goods/goodsdel",e)},i=function(e){return r["a"].post("/goods/goodsedit",e)}},e8b5:function(e,o,t){var r=t("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},f162:function(e,o,t){"use strict";t.r(o);var r=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("el-card",{staticClass:"box-card goods-add"},[t("div",{staticClass:"title"},[e._v("添加商品")]),t("hr"),t("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"商品名称",prop:"goodsname"}},[t("el-input",{model:{value:e.form.goodsname,callback:function(o){e.$set(e.form,"goodsname",o)},expression:"form.goodsname"}})],1),t("el-form-item",{attrs:{label:"商品分类",prop:"goodscategory"}},[t("el-select",{attrs:{placeholder:"请选择商品分类"},model:{value:e.form.goodscategory,callback:function(o){e.$set(e.form,"goodscategory",o)},expression:"form.goodscategory"}},[t("el-option",{attrs:{label:"火锅",value:"火锅"}}),t("el-option",{attrs:{label:"串串",value:"串串"}}),t("el-option",{attrs:{label:"烧烤",value:"烧烤"}}),t("el-option",{attrs:{label:"烤鱼",value:"烤鱼"}})],1)],1),t("el-form-item",{attrs:{label:"商品特点",prop:"goodsfeature"}},[t("el-checkbox-group",{model:{value:e.form.goodsfeature,callback:function(o){e.$set(e.form,"goodsfeature",o)},expression:"form.goodsfeature"}},[t("el-checkbox",{attrs:{label:"新品上市",name:"type"}}),t("el-checkbox",{attrs:{label:"第二单半价",name:"type"}}),t("el-checkbox",{attrs:{label:"主打产品",name:"type"}}),t("el-checkbox",{attrs:{label:"火爆产品",name:"type"}}),t("el-checkbox",{attrs:{label:"祖传手艺",name:"type"}}),t("el-checkbox",{attrs:{label:"源自四川",name:"type"}})],1)],1),t("el-form-item",{attrs:{label:"商品图片",prop:"dialogImageUrl"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.dialogImageUrl,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,"list-type":"picture-card"}},[e.form.imgUrl?t("img",{staticClass:"avatar",attrs:{width:"100%",height:"100%",src:e.imgUrlapi+e.form.imgUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t("el-form-item",{attrs:{label:"是否促销"}},[t("el-radio",{attrs:{label:"促销"},model:{value:e.form.isPromotion,callback:function(o){e.$set(e.form,"isPromotion",o)},expression:"form.isPromotion"}},[e._v("促销")]),t("el-radio",{attrs:{label:"不促销"},model:{value:e.form.isPromotion,callback:function(o){e.$set(e.form,"isPromotion",o)},expression:"form.isPromotion"}},[e._v("不促销")])],1),t("el-form-item",{attrs:{label:"食品规格"}},[t("el-radio",{attrs:{label:"单规格"},model:{value:e.form.goodsstandard,callback:function(o){e.$set(e.form,"goodsstandard",o)},expression:"form.goodsstandard"}},[e._v("单规格")]),t("el-radio",{attrs:{label:"多规格"},model:{value:e.form.goodsstandard,callback:function(o){e.$set(e.form,"goodsstandard",o)},expression:"form.goodsstandard"}},[e._v("多规格")])],1),e.size?t("div",[t("el-form-item",{attrs:{label:"包装费"}},[t("el-input-number",{attrs:{min:1,max:100},model:{value:e.form.packingexpense,callback:function(o){e.$set(e.form,"packingexpense",o)},expression:"form.packingexpense"}})],1),t("el-form-item",{attrs:{label:"价格"}},[t("el-input-number",{attrs:{min:1,max:100},model:{value:e.form.goodsPrice,callback:function(o){e.$set(e.form,"goodsPrice",o)},expression:"form.goodsPrice"}})],1)],1):t("div",{staticClass:"duoguige"},[t("el-button",{attrs:{type:"primary"},on:{click:function(o){e.dialogFormVisible=!0}}},[e._v("添加规格")]),t("el-dialog",{attrs:{title:"添加规格",visible:e.dialogFormVisible},on:{"update:visible":function(o){e.dialogFormVisible=o}}},[t("el-form",{attrs:{model:e.dialoglist}},[t("el-form-item",{attrs:{label:"规格:"}},[t("el-input",{model:{value:e.dialoglist.goodsstandard,callback:function(o){e.$set(e.dialoglist,"goodsstandard",o)},expression:"dialoglist.goodsstandard"}})],1),t("el-form-item",{attrs:{label:"包装费:"}},[t("el-input-number",{attrs:{min:1,max:100},model:{value:e.dialoglist.packingexpense,callback:function(o){e.$set(e.dialoglist,"packingexpense",o)},expression:"dialoglist.packingexpense"}})],1),t("el-form-item",{attrs:{label:"价格:"}},[t("el-input-number",{attrs:{min:1,max:100},model:{value:e.dialoglist.goodsPrice,callback:function(o){e.$set(e.dialoglist,"goodsPrice",o)},expression:"dialoglist.goodsPrice"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(o){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.btnStandard}},[e._v("确 定")])],1)],1),t("el-table",{attrs:{data:e.tableData}},[t("el-table-column",{attrs:{label:"规格",width:"120"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(o.row.goodsstandard))])]}}],null,!1,3693467343)}),t("el-table-column",{attrs:{label:"包装费",width:"120"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(o.row.packingexpense))])]}}],null,!1,4084312141)}),t("el-table-column",{attrs:{label:"价格",width:"120"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(o.row.goodsPrice))])]}}],null,!1,980879769)}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleEdit(o.$index)}}},[e._v("删除")])]}}],null,!1,4092972933)})],1)],1),t("el-form-item",{attrs:{label:"商品描述",prop:"goodsdesc"}},[t("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},model:{value:e.form.goodsdesc,callback:function(o){e.$set(e.form,"goodsdesc",o)},expression:"form.goodsdesc"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("立即添加")]),t("el-button",[e._v("取消")])],1)],1)],1)},a=[],s=(t("a434"),t("96cf"),t("89ba")),l=t("c40e"),i={data:function(){return{tableData:[{goodsstandard:"默认",packingexpense:"13",goodsPrice:"56"}],dialoglist:{goodsstandard:"默认",packingexpense:"13",goodsPrice:"56"},form:{goodsname:"",goodscategory:"",goodsfeature:[],imgUrl:"",isPromotion:"促销",goodsstandard:"单规格",packingexpense:1,goodsPrice:21,goodsdesc:""},dialogImageUrl:"http://172.16.11.200:6060/goods/upload",imgUrlapi:"http://172.16.11.200:6060/upload/goods/",dialogFormVisible:!1,rules:{goodsname:[{required:!0,message:"请输入商品名称",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 5 个字符",trigger:"blur"}],goodscategory:[{required:!0,message:"请选择商品分类",trigger:"blur"}],goodsfeature:[{required:!0,message:"请选择商品特征",trigger:"blur"}],goodsdesc:[{required:!0,message:"请填写商品描述",trigger:"blur"}]}}},methods:{onSubmit:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var o,t,r,a,s,i,n,d,c,u,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=this.form,t=o.goodsname,r=o.goodscategory,a=o.goodsfeature,s=o.imgUrl,i=o.isPromotion,n=o.goodsdesc,a=JSON.stringify(a),d="单规格"===this.form.goodsstandard?JSON.stringify([{goodsstandard:this.form.goodsstandard,packingexpense:this.form.packingexpense,goodsPrice:this.form.goodsPrice}]):JSON.stringify(this.tableData),c={goodsname:t,goodscategory:r,goodsfeature:a,imgUrl:s,isPromotion:i,goodsdesc:n,standard:d},e.next=6,Object(l["a"])(c);case 6:u=e.sent,f=u.code,0===f&&this.$router.push("/home/goodlist");case 9:case"end":return e.stop()}}),e,this)})));function o(){return e.apply(this,arguments)}return o}(),handleAvatarSuccess:function(e,o){var t=e.code,r=e.imgUrl;0===t&&(this.form.imgUrl=r)},beforeAvatarUpload:function(e){var o="image/jpeg"===e.type,t=e.size/1024/1024<2;return o||this.$message.error("上传头像图片只能是 JPG 格式!"),t||this.$message.error("上传头像图片大小不能超过 2MB!"),o&&t},btnStandard:function(){this.dialogFormVisible=!1,this.tableData.unshift(this.dialoglist),this.dialoglist={goodsstandard:"",packingexpense:"",goodsPrice:""}},handleEdit:function(e){this.tableData.splice(e,1)}},computed:{size:function(){return"单规格"===this.form.goodsstandard}}},n=i,d=(t("bff1"),t("2877")),c=Object(d["a"])(n,r,a,!1,null,null,null);o["default"]=c.exports},f86f:function(e,o,t){}}]);
//# sourceMappingURL=chunk-13dda9df.5ccd74f6.js.map