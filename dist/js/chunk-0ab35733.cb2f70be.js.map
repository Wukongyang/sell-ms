{"version":3,"sources":["webpack:///./src/api/account.js","webpack:///./src/views/Personalcenter.vue?1977","webpack:///./src/views/Personalcenter.vue?5d2e","webpack:///src/views/Personalcenter.vue","webpack:///./src/views/Personalcenter.vue?afe3","webpack:///./src/views/Personalcenter.vue"],"names":["addAccount","params","req","post","repeatAcc","listAccount","get","singleDelete","batchDelete","accountEdit","changePwd","checkLogin","checkoldpwd","accountInfo","accAvatar","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","_v","_s","infoList","id","acc","region","ctime","staticStyle","flag","dialogImageUrl","handleAvatarSuccess","beforeAvatarUpload","imgUrlapi","imgUrl","on","$event","upload","staticRenderFns","data","methods","code","isJPG","$message","error","isLt2M","created","getaccountInfo","component"],"mappings":"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","file":"js/chunk-0ab35733.cb2f70be.js","sourcesContent":["/* \r\n*  账号管理接口\r\n*/\r\n\r\n// 引入模块\r\nimport req from '@/utils/request'\r\n\r\n// 添加账号，地址为接口地址\r\n//添加账户\r\nexport const addAccount = params => req.post('/account/accountadd', params)\r\nexport const repeatAcc = params => req.post('/account/repeat', params)\r\n// 获取列表\r\nexport const listAccount = params => req.get('/account/accountlist', params)\r\n// 单个删除\r\nexport const singleDelete = params => req.get('/account/singledelete', params)\r\n// 批量删除\r\nexport const batchDelete = params => req.get('/account/batchdelete', params)\r\n//编辑\r\nexport const accountEdit = params => req.post('/account/accountedit', params)\r\n//修改密码\r\nexport const changePwd = params => req.post('/account/passwordedit', params)\r\n// 登录\r\nexport const checkLogin = params => req.post('/account/checklogin', params)\r\n//确认旧密码\r\nexport const checkoldpwd = params => req.get('/account/checkoldpwd', params)\r\n// 获取个人信息\r\nexport const accountInfo = params => req.get('/account/accountinfo', params)\r\n// 上传头像\r\n\r\nexport const accAvatar = params => req.get('/account/avataredit', params)\r\n\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Personalcenter.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Personalcenter.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',{staticClass:\"box-card personal-center\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"管理员信息\")])]),_c('div',{staticClass:\"text item\"},[_c('span',[_vm._v(\"管理员ID：\"+_vm._s(_vm.infoList.id))]),_c('el-divider'),_c('span',[_vm._v(\"账号：\"+_vm._s(_vm.infoList.acc))]),_c('el-divider'),_c('span',[_vm._v(\"用户组：\"+_vm._s(_vm.infoList.region))]),_c('el-divider'),_c('span',[_vm._v(\"创建时间：\"+_vm._s(_vm.infoList.ctime))]),_c('el-divider'),_c('div',{staticClass:\"demo-fit\"},[_c('div',{staticClass:\"block\"},[_c('span',{staticStyle:{\"float\":\"left\"}},[_vm._v(\"管理员头像：\")]),_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"disabled\":_vm.flag,\"action\":_vm.dialogImageUrl,\"show-file-list\":false,\"list-type\":\"picture-card\",\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.infoList.imgUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"width\":\"100%\",\"height\":\"100%\",\"src\":_vm.imgUrlapi+_vm.infoList.imgUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})]),(_vm.flag)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.flag=!_vm.flag}}},[_vm._v(\"修改头像\")]):_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.upload}},[_vm._v(\"确认上传\")])],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-card class=\"box-card personal-center\">\r\n    <div slot=\"header\" class=\"clearfix\">\r\n      <span class=\"title\">管理员信息</span>\r\n    </div>\r\n   \r\n    <div class=\"text item\">\r\n      <span>管理员ID：{{infoList.id}}</span>\r\n      <el-divider></el-divider>\r\n      <span>账号：{{infoList.acc}}</span>\r\n      <el-divider></el-divider>\r\n      <span>用户组：{{infoList.region}}</span>\r\n      <el-divider></el-divider>\r\n      <span>创建时间：{{infoList.ctime}}</span>\r\n      <el-divider></el-divider>\r\n      <div class=\"demo-fit\">\r\n        <div class=\"block\">\r\n          <span style=\"float:left\">管理员头像：</span>\r\n          <el-upload\r\n            :disabled=\"flag\"\r\n            class=\"avatar-uploader\"\r\n            :action=\"dialogImageUrl\"\r\n            :show-file-list=\"false\"\r\n            list-type=\"picture-card\"\r\n            :on-success=\"handleAvatarSuccess\"\r\n            :before-upload=\"beforeAvatarUpload\"\r\n          >\r\n            <img\r\n              v-if=\"infoList.imgUrl\"\r\n              width=\"100%\"\r\n              height=\"100%\"\r\n              :src=\"imgUrlapi+infoList.imgUrl\"\r\n              class=\"avatar\"\r\n            />\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n          </el-upload>\r\n          <el-button type=\"primary\" v-if=\"flag\" @click=\"flag=!flag\">修改头像</el-button>\r\n          <el-button type=\"success\" v-else @click=\"upload\">确认上传</el-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport { accountInfo, accAvatar } from \"@/api/account.js\";\r\nimport moment from \"moment\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      infoList: {\r\n        id: \"\",\r\n        acc: \"\",\r\n        region: \"\",\r\n        ctime: \"\",\r\n        imgUrl: \"default.jpg\"\r\n      },\r\n      dialogImageUrl: \"http://172.16.11.200:6060/goods/upload\", //图片上传到的地址\r\n      imgUrlapi: \"http://172.16.11.200:6060/upload/goods/\", //图片加载地址\r\n      flag: true\r\n    };\r\n  },\r\n  methods: {\r\n    //获取账号信息\r\n    async getaccountInfo() {\r\n      let res = await accountInfo();\r\n      // 格式化时间\r\n      res.accountInfo.ctime = moment(res.accountInfo.ctime).format(\r\n        \"YYYY-MM-DD hh:mm:ss\"\r\n      );\r\n      this.infoList = res.accountInfo;\r\n    },\r\n    //图片上传\r\n    handleAvatarSuccess(res, file) {\r\n      let { code, imgUrl } = res;\r\n      if (code === 0) {\r\n        this.infoList.imgUrl = imgUrl;\r\n      }\r\n    },\r\n    beforeAvatarUpload(file) {\r\n      const isJPG = file.type === \"image/jpeg\";\r\n      const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n      if (!isJPG) {\r\n        this.$message.error(\"上传头像图片只能是 JPG 格式!\");\r\n      }\r\n      if (!isLt2M) {\r\n        this.$message.error(\"上传头像图片大小不能超过 2MB!\");\r\n      }\r\n      return isJPG && isLt2M;\r\n    },\r\n    async upload() {\r\n      let { code } = await accAvatar({ imgUrl: this.infoList.imgUrl });//发送上传ajax\r\n      if (code === 0) {\r\n        this.flag = !this.flag;//切换按钮\r\n        this.bus.$emit(\"sendImgUrl\",this.infoList.imgUrl)//操作成功，将图片地址发给头部头像组件，改变头像\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getaccountInfo();\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.personal-center {\r\n  .title {\r\n    font-size: 25px;\r\n    font-weight: bold;\r\n    line-height: 60px;\r\n  }\r\n  .el-upload {\r\n    margin-bottom: 20px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Personalcenter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Personalcenter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Personalcenter.vue?vue&type=template&id=97a8a812&\"\nimport script from \"./Personalcenter.vue?vue&type=script&lang=js&\"\nexport * from \"./Personalcenter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Personalcenter.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}