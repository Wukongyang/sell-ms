(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22e66a54"],{"1dde":function(e,o,t){var a=t("d039"),r=t("b622"),s=r("species");e.exports=function(e){return!a((function(){var o=[],t=o.constructor={};return t[s]=function(){return{foo:1}},1!==o[e](Boolean).foo}))}},5204:function(e,o,t){},"65f0":function(e,o,t){var a=t("861d"),r=t("e8b5"),s=t("b622"),i=s("species");e.exports=function(e,o){var t;return r(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!r(t.prototype)?a(t)&&(t=t[i],null===t&&(t=void 0)):t=void 0),new(void 0===t?Array:t)(0===o?0:o)}},"68df":function(e,o,t){"use strict";var a=t("5204"),r=t.n(a);r.a},"7d4c":function(e,o,t){"use strict";t.r(o);var a=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("el-card",{staticClass:"box-card goods-edit"},[t("div",{staticClass:"title"},[e._v("查看编辑商品")]),t("hr"),t("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"商品名称",prop:"goodsname"}},[t("el-input",{attrs:{disabled:e.flag},model:{value:e.form.goodsname,callback:function(o){e.$set(e.form,"goodsname",o)},expression:"form.goodsname"}})],1),t("el-form-item",{attrs:{label:"商品分类",prop:"goodscategory"}},[t("el-select",{attrs:{disabled:e.flag,placeholder:"请选择商品分类"},model:{value:e.form.goodscategory,callback:function(o){e.$set(e.form,"goodscategory",o)},expression:"form.goodscategory"}},[t("el-option",{attrs:{label:"火锅",value:"火锅"}}),t("el-option",{attrs:{label:"串串",value:"串串"}}),t("el-option",{attrs:{label:"烧烤",value:"烧烤"}}),t("el-option",{attrs:{label:"烤鱼",value:"烤鱼"}})],1)],1),t("el-form-item",{attrs:{label:"商品特点",prop:"goodsfeature"}},[t("el-checkbox-group",{attrs:{disabled:e.flag},model:{value:e.form.goodsfeature,callback:function(o){e.$set(e.form,"goodsfeature",o)},expression:"form.goodsfeature"}},[t("el-checkbox",{attrs:{label:"新品上市",name:"type"}}),t("el-checkbox",{attrs:{label:"第二单半价",name:"type"}}),t("el-checkbox",{attrs:{label:"主打产品",name:"type"}}),t("el-checkbox",{attrs:{label:"火爆产品",name:"type"}}),t("el-checkbox",{attrs:{label:"祖传手艺",name:"type"}}),t("el-checkbox",{attrs:{label:"源自四川",name:"type"}})],1)],1),t("el-form-item",{attrs:{label:"商品图片",prop:"dialogImageUrl"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{disabled:e.flag,action:e.dialogImageUrl,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,"list-type":"picture-card"}},[e.form.imgUrl?t("img",{staticClass:"avatar",attrs:{width:"100%",height:"100%",src:e.imgUrlapi+e.form.imgUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t("el-form-item",{attrs:{label:"是否促销"}},[t("el-radio",{attrs:{disabled:e.flag,label:"促销"},model:{value:e.form.isPromotion,callback:function(o){e.$set(e.form,"isPromotion",o)},expression:"form.isPromotion"}},[e._v("促销")]),t("el-radio",{attrs:{disabled:e.flag,label:"不促销"},model:{value:e.form.isPromotion,callback:function(o){e.$set(e.form,"isPromotion",o)},expression:"form.isPromotion"}},[e._v("不促销")])],1),t("el-form-item",{attrs:{label:"食品规格"}},[t("el-radio",{attrs:{disabled:e.flag,label:"单规格"},model:{value:e.form.goodsstandard,callback:function(o){e.$set(e.form,"goodsstandard",o)},expression:"form.goodsstandard"}},[e._v("单规格")]),t("el-radio",{attrs:{disabled:e.flag,label:"多规格"},model:{value:e.form.goodsstandard,callback:function(o){e.$set(e.form,"goodsstandard",o)},expression:"form.goodsstandard"}},[e._v("多规格")])],1),e.size?t("div",[t("el-form-item",{attrs:{label:"包装费"}},[t("el-input-number",{attrs:{disabled:e.flag,min:1,max:100},model:{value:e.form.packingexpense,callback:function(o){e.$set(e.form,"packingexpense",o)},expression:"form.packingexpense"}})],1),t("el-form-item",{attrs:{label:"价格"}},[t("el-input-number",{attrs:{disabled:e.flag,min:1,max:100},model:{value:e.form.goodsPrice,callback:function(o){e.$set(e.form,"goodsPrice",o)},expression:"form.goodsPrice"}})],1)],1):t("div",{staticClass:"duoguige"},[t("el-button",{attrs:{disabled:e.flag,type:"primary"},on:{click:function(o){e.dialogFormVisible=!0}}},[e._v("添加规格")]),t("el-dialog",{attrs:{title:"添加规格",visible:e.dialogFormVisible},on:{"update:visible":function(o){e.dialogFormVisible=o}}},[t("el-form",{attrs:{model:e.dialoglist}},[t("el-form-item",{attrs:{label:"规格:"}},[t("el-input",{model:{value:e.dialoglist.goodsstandard,callback:function(o){e.$set(e.dialoglist,"goodsstandard",o)},expression:"dialoglist.goodsstandard"}})],1),t("el-form-item",{attrs:{label:"包装费:"}},[t("el-input-number",{attrs:{min:1,max:100},model:{value:e.dialoglist.packingexpense,callback:function(o){e.$set(e.dialoglist,"packingexpense",o)},expression:"dialoglist.packingexpense"}})],1),t("el-form-item",{attrs:{label:"价格:"}},[t("el-input-number",{attrs:{min:1,max:100},model:{value:e.dialoglist.goodsPrice,callback:function(o){e.$set(e.dialoglist,"goodsPrice",o)},expression:"dialoglist.goodsPrice"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(o){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.btnStandard}},[e._v("确 定")])],1)],1),t("el-table",{attrs:{data:e.tableData}},[t("el-table-column",{attrs:{label:"规格",width:"120"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(o.row.goodsstandard))])]}}],null,!1,3693467343)}),t("el-table-column",{attrs:{label:"包装费",width:"120"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(o.row.packingexpense))])]}}],null,!1,4084312141)}),t("el-table-column",{attrs:{label:"价格",width:"120"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(o.row.goodsPrice))])]}}],null,!1,980879769)}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{disabled:e.flag,size:"mini",type:"danger"},on:{click:function(t){return e.handleEdit(o.$index)}}},[e._v("删除")])]}}],null,!1,487454895)})],1)],1),t("el-form-item",{attrs:{label:"商品描述",prop:"goodsdesc"}},[t("el-input",{attrs:{disabled:e.flag,type:"textarea",rows:4,placeholder:"请输入内容"},model:{value:e.form.goodsdesc,callback:function(o){e.$set(e.form,"goodsdesc",o)},expression:"form.goodsdesc"}})],1),t("el-form-item",[e.flag?t("el-button",{attrs:{type:"primary"},on:{click:function(o){e.flag=!e.flag}}},[e._v("开始编辑")]):t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确认提交")])],1)],1)],1)},r=[],s=(t("a434"),t("96cf"),t("89ba")),i=t("c40e"),l=t("9f04"),n={data:function(){return{flag:!0,tableData:[{goodsstandard:"默认",packingexpense:"13",goodsPrice:"56"}],dialoglist:{goodsstandard:"默认",packingexpense:"13",goodsPrice:"56"},form:{goodsname:"",goodscategory:"",goodsfeature:[],imgUrl:"",isPromotion:"促销",goodsstandard:"单规格",packingexpense:1,goodsPrice:21,goodsdesc:""},dialogImageUrl:"http://172.16.11.200:6060/goods/upload",imgUrlapi:"http://172.16.11.200:6060/upload/goods/",dialogFormVisible:!1,rules:{goodsname:[{required:!0,message:"请输入商品名称",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 5 个字符",trigger:"blur"}],goodscategory:[{required:!0,message:"请选择商品分类",trigger:"blur"}],goodsfeature:[{required:!0,message:"请选择商品特征",trigger:"blur"}],goodsdesc:[{required:!0,message:"请填写商品描述",trigger:"blur"}]}}},methods:{onSubmit:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var o,t,a,r,s,n,d,c,g,f,u,m,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=l["a"].get("goods"),t=o.id,a=this.form,r=a.goodsname,s=a.goodscategory,n=a.goodsfeature,d=a.imgUrl,c=a.isPromotion,g=a.goodsdesc,n=JSON.stringify(n),f="单规格"===this.form.goodsstandard?JSON.stringify([{goodsstandard:this.form.goodsstandard,packingexpense:this.form.packingexpense,goodsPrice:this.form.goodsPrice}]):JSON.stringify(this.tableData),u={id:t,goodsname:r,goodscategory:s,goodsfeature:n,imgUrl:d,isPromotion:c,goodsdesc:g,standard:f},e.next=7,Object(i["c"])(u);case 7:m=e.sent,p=m.code,0===p&&(this.flag=!this.flag,l["a"].remove("goods"),this.$router.push("/home/goodlist"));case 10:case"end":return e.stop()}}),e,this)})));function o(){return e.apply(this,arguments)}return o}(),handleAvatarSuccess:function(e,o){var t=e.code,a=e.imgUrl;0===t&&(this.form.imgUrl=a)},beforeAvatarUpload:function(e){var o="image/jpeg"===e.type,t=e.size/1024/1024<2;return o||this.$message.error("上传头像图片只能是 JPG 格式!"),t||this.$message.error("上传头像图片大小不能超过 2MB!"),o&&t},btnStandard:function(){this.dialogFormVisible=!1,this.tableData.unshift(this.dialoglist),this.dialoglist={goodsstandard:"",packingexpense:"",goodsPrice:""}},handleEdit:function(e){this.tableData.splice(e,1)},returnList:function(){var e=l["a"].get("goods"),o=e.goodsname,t=e.goodscategory,a=e.goodsfeature,r=e.imgUrl,s=e.isPromotion,i=e.goodsdesc;this.form.goodsname=o,this.form.goodsfeature=JSON.parse(a),this.form.goodscategory=t,this.form.imgUrl=r,this.form.isPromotion=s,this.form.goodsdesc=i;var n=JSON.parse(e.standard);"单规格"===n[0].goodsstandard?(this.form.goodsstandard=n[0].goodsstandard,this.form.packingexpense=n[0].packingexpense,this.form.goodsPrice=n[0].goodsPrice):(this.tableData=n,this.form.goodsstandard="多规格")}},computed:{size:function(){return"单规格"===this.form.goodsstandard}},mounted:function(){this.returnList()}},d=n,c=(t("68df"),t("2877")),g=Object(c["a"])(d,a,r,!1,null,null,null);o["default"]=g.exports},8418:function(e,o,t){"use strict";var a=t("c04e"),r=t("9bf2"),s=t("5c6c");e.exports=function(e,o,t){var i=a(o);i in e?r.f(e,i,s(0,t)):e[i]=t}},a434:function(e,o,t){"use strict";var a=t("23e7"),r=t("23cb"),s=t("a691"),i=t("50c4"),l=t("7b0b"),n=t("65f0"),d=t("8418"),c=t("1dde"),g=Math.max,f=Math.min,u=9007199254740991,m="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!c("splice")},{splice:function(e,o){var t,a,c,p,b,h,v=l(this),x=i(v.length),k=r(e,x),y=arguments.length;if(0===y?t=a=0:1===y?(t=0,a=x-k):(t=y-2,a=f(g(s(o),0),x-k)),x+t-a>u)throw TypeError(m);for(c=n(v,a),p=0;p<a;p++)b=k+p,b in v&&d(c,p,v[b]);if(c.length=a,t<a){for(p=k;p<x-a;p++)b=p+a,h=p+t,b in v?v[h]=v[b]:delete v[h];for(p=x;p>x-a+t;p--)delete v[p-1]}else if(t>a)for(p=x-a;p>k;p--)b=p+a-1,h=p+t-1,b in v?v[h]=v[b]:delete v[h];for(p=0;p<t;p++)v[p+k]=arguments[p+2];return v.length=x-a+t,c}})},c40e:function(e,o,t){"use strict";t.d(o,"a",(function(){return r})),t.d(o,"d",(function(){return s})),t.d(o,"b",(function(){return i})),t.d(o,"c",(function(){return l}));var a=t("b775"),r=function(e){return a["a"].post("/goods/goodsadd",e)},s=function(e){return a["a"].get("/goods/goodslist",e)},i=function(e){return a["a"].get("/goods/goodsdel",e)},l=function(e){return a["a"].post("/goods/goodsedit",e)}},e8b5:function(e,o,t){var a=t("c6b6");e.exports=Array.isArray||function(e){return"Array"==a(e)}}}]);
//# sourceMappingURL=chunk-22e66a54.efdc0457.js.map